<tool id="mothur_merge_files" name="Merge.files" version="1.20.0">
 <description>Merge data</description>
 <requirements>
  <requirement type="package" version="1.33">mothur</requirement>
 </requirements>
 <command interpreter="python"><![CDATA[
  mothur_wrapper.py 
  --cmd='merge.files'
  --result='^mothur.\S+\.logfile$:'$logfile,'mergefile:'$output
  --outputdir='$logfile.extra_files_path'
  --input=${merge.inputs}
  --output='mergefile'
 ]]></command>
 <inputs>
  <conditional name="merge">
   <param name="type" type="select" format="fasta,qual,groups,names,accnos" label="Merge">
    <option value="fasta">fasta</option>
    <option value="qual">qual</option>
    <option value="groups">groups</option>
    <option value="names">names</option>
    <option value="accnos">accnos</option>
   </param>
   <when value="fasta">
    <param name="inputs" type="data" format="fasta" multiple="true" label="inputs - fasta"/>    
   </when> <!-- fasta --> 
   <when value="qual">
    <param name="inputs" type="data" format="qual" multiple="true" label="inputs - qual"/>
   </when> <!-- qual --> 
   <when value="groups">
    <param name="inputs" type="data" format="groups" multiple="true" label="inputs - groups"/>
   </when> <!-- groups --> 
   <when value="names">
    <param name="inputs" type="data" format="names" multiple="true" label="inputs - names"/>
   </when> <!-- names --> 
   <when value="accnos">
    <param name="inputs" type="data" format="accnos" multiple="true" label="inputs - accnos"/>
   </when> <!-- fasta --> 
  </conditional> <!-- merge -->
 </inputs>
 <outputs>
  <data format="html" name="logfile" label="${tool.name} on ${on_string}: logfile" />
  <data format_source="inputs" name="output" label="${tool.name} on ${on_string}: ${merge.type}"/>
 </outputs>
 <tests>
  <test>
   <param name="type" value="fasta" />   
   <param name="inputs" value="sample1.fa,sample2.fa,sample3.fa"/>
   <output name="output" file="output.fa" ftype="fasta"/> 
  </test>
 </tests>
 <help>
**Mothur Overview**

Mothur_, initiated by Dr. Patrick Schloss and his software development team
in the Department of Microbiology and Immunology at The University of Michigan,
provides bioinformatics for the microbial ecology community.

.. _Mothur: http://www.mothur.org/wiki/Main_Page

**Command Documenation**

The merge.files_ command merge inputs into a single output.

.. _merge.files: http://www.mothur.org/wiki/Merge.files


 </help>
 <citations>
  <citation type="bibtex">
@article{mothur,
  author = {Schloss PD, Westcott SL, Ryabin R, Hall JR, Hartmann M, Hollister EB, Lesniewski RA, Oakley BB, Parks DH, Robinson CJ, Sahl JW, Stres B, Thallinger GG, Van Horn DJ, Weber CF},
  year = {2009},
  volume = {75},
  number = {23},
  pages = {7537-41},
  title = {Introducing mothur: open-source, platform-independent, community-supported software for describing and comparing microbial communities.},
  journal = {Appl Environ Microbiol.},
  }
  </citation>
 </citations>
</tool>
